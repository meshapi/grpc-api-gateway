{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$ref": "#/definitions/Config",
    "definitions": {
        "Config": {
            "properties": {
                "gateway": {
                    "$ref": "#/definitions/meshapi.gateway.GatewaySpec",
                    "additionalProperties": false,
                    "description": "gateway holds gateway configs."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "title": "Config",
            "description": "Config is the content of a configuration file."
        },
        "meshapi.gateway.AdditionalEndpointBinding": {
            "properties": {
                "get": {
                    "type": "string"
                },
                "put": {
                    "type": "string"
                },
                "post": {
                    "type": "string"
                },
                "delete": {
                    "type": "string"
                },
                "patch": {
                    "type": "string"
                },
                "custom": {
                    "$ref": "#/definitions/meshapi.gateway.CustomPattern",
                    "additionalProperties": false,
                    "description": "custom can be used for custom HTTP methods."
                },
                "body": {
                    "type": "string",
                    "description": "body is a request message field selector that will be read via HTTP body. value of '*' indicates that the entire request message gets decoded from the body. default value of '' indicates that no part of the request gets decoded from the body. NOTE: Not all methods support HTTP body."
                },
                "response_body": {
                    "type": "string",
                    "description": "response_body is a response message field selector that will be written to HTTP response. default value of '*' or '' indicates that the entire response message gets encoded."
                },
                "query_params": {
                    "items": {
                        "$ref": "#/definitions/meshapi.gateway.QueryParameterBinding"
                    },
                    "additionalProperties": false,
                    "type": "array",
                    "description": "query_params are explicit query parameter bindings that can be used to rename or ignore query parameters."
                },
                "disable_query_param_discovery": {
                    "type": "boolean",
                    "description": "disable_query_param_discovery can be used to avoid auto binding query parameters."
                },
                "stream": {
                    "$ref": "#/definitions/meshapi.gateway.StreamConfig",
                    "additionalProperties": false,
                    "description": "stream holds configurations for streaming methods."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "oneOf": [
                {
                    "required": [
                        "get"
                    ]
                },
                {
                    "required": [
                        "put"
                    ]
                },
                {
                    "required": [
                        "post"
                    ]
                },
                {
                    "required": [
                        "delete"
                    ]
                },
                {
                    "required": [
                        "patch"
                    ]
                },
                {
                    "required": [
                        "custom"
                    ]
                }
            ],
            "title": "Additional Endpoint Binding"
        },
        "meshapi.gateway.CustomPattern": {
            "properties": {
                "method": {
                    "type": "string",
                    "description": "method is the custom HTTP method."
                },
                "path": {
                    "type": "string",
                    "description": "path is the HTTP path pattern."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "title": "Custom Pattern",
            "description": "CustomPattern describes an HTTP pattern and custom method."
        },
        "meshapi.gateway.EndpointBinding": {
            "properties": {
                "selector": {
                    "type": "string",
                    "description": "selector is dot separated gRPC service method selector. selector string can be configured to be relative if it begins with a '.' character but this is only supported when using the proto generators and only if a package can be deduced. if the selector does not begin with a '.' character, it will be treated as a fully qualified method name (FQMN)."
                },
                "get": {
                    "type": "string"
                },
                "put": {
                    "type": "string"
                },
                "post": {
                    "type": "string"
                },
                "delete": {
                    "type": "string"
                },
                "patch": {
                    "type": "string"
                },
                "custom": {
                    "$ref": "#/definitions/meshapi.gateway.CustomPattern",
                    "additionalProperties": false,
                    "description": "custom can be used for custom HTTP methods."
                },
                "body": {
                    "type": "string",
                    "description": "body is a request message field selector that will be read via HTTP body. value of '*' indicates that the entire request message gets decoded from the body. default value of '' indicates that no part of the request gets decoded from the body. NOTE: Not all methods support HTTP body."
                },
                "response_body": {
                    "type": "string",
                    "description": "response_body is a response message field selector that will be written to HTTP response. default value of '*' or '' indicates that the entire response message gets encoded."
                },
                "query_params": {
                    "items": {
                        "$ref": "#/definitions/meshapi.gateway.QueryParameterBinding"
                    },
                    "additionalProperties": false,
                    "type": "array",
                    "description": "query_params are explicit query parameter bindings that can be used to rename or ignore query parameters."
                },
                "additional_bindings": {
                    "items": {
                        "$ref": "#/definitions/meshapi.gateway.AdditionalEndpointBinding"
                    },
                    "additionalProperties": false,
                    "type": "array",
                    "description": "additional_bindings holds additional bindings for the same gRPC service method."
                },
                "disable_query_param_discovery": {
                    "type": "boolean",
                    "description": "disable_query_param_discovery can be used to avoid auto binding query parameters."
                },
                "stream": {
                    "$ref": "#/definitions/meshapi.gateway.StreamConfig",
                    "additionalProperties": false,
                    "description": "stream holds configurations for streaming methods."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "oneOf": [
                {
                    "required": [
                        "get"
                    ]
                },
                {
                    "required": [
                        "put"
                    ]
                },
                {
                    "required": [
                        "post"
                    ]
                },
                {
                    "required": [
                        "delete"
                    ]
                },
                {
                    "required": [
                        "patch"
                    ]
                },
                {
                    "required": [
                        "custom"
                    ]
                }
            ],
            "title": "Endpoint Binding",
            "description": "EndpointBinding is a gRPC method - HTTP endpoint binding specification."
        },
        "meshapi.gateway.GatewaySpec": {
            "properties": {
                "endpoints": {
                    "items": {
                        "$ref": "#/definitions/meshapi.gateway.EndpointBinding"
                    },
                    "additionalProperties": false,
                    "type": "array",
                    "description": "endpoints hold a series of endpoint binding specs."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "title": "Gateway Spec",
            "description": "GatewaySpec holds gRPC gateway configurations."
        },
        "meshapi.gateway.QueryParameterBinding": {
            "properties": {
                "selector": {
                    "type": "string",
                    "description": "selector is a dot separated path to the request message's field."
                },
                "name": {
                    "type": "string",
                    "description": "name is the name of the HTTP query parameter that will be used."
                },
                "ignore": {
                    "type": "boolean",
                    "description": "ignore avoids reading this query parameter altogether (default: false)."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "title": "Query Parameter Binding",
            "description": "QueryParameterBinding describes a query parameter to request message binding."
        },
        "meshapi.gateway.StreamConfig": {
            "properties": {
                "disable_websockets": {
                    "type": "boolean",
                    "description": "disable_websockets indicates whether or not websockets are allowed for this method. client must still ask for a connection upgrade."
                },
                "disable_sse": {
                    "type": "boolean",
                    "description": "disable_sse indicates whether or not server-sent events are allowed. see: https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events SSE is only used when Accept-Type from the request includes MIME type text/event-stream."
                },
                "disable_chunked_transfer": {
                    "type": "boolean",
                    "description": "disable_chunked indicates whether or not chunked transfer encoding is allowed. NOTE: chunked transfer encoding is disabled in HTTP/2 so this option will only be available if request is HTTP/1."
                }
            },
            "additionalProperties": false,
            "type": "object",
            "title": "Stream Config",
            "description": "StreamConfig sets the behavior of the HTTP server for gRPC streaming methods."
        }
    }
}